!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WxShare=t():e.WxShare=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var s in n=Object(arguments[c]))o.call(n,s)&&(u[s]=n[s]);if(r){a=r(n);for(var f=0;f<a.length;f++)i.call(n,a[f])&&(u[a[f]]=n[a[f]])}}return u}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=new function(){var e=void 0;return function(t){return t&&(e=t),e}},a=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i())return i();this.isConfigReady=!1,this.wx=null,this.wxConfig=null,this.readyCallBack=null,this.defaultShare={title:"",desc:"",link:window.location.href.replace(/(\?|#).*/g,""),imgUrl:""},this._isInitDefaultShare=!1,i(this)}return e.prototype.config=function(e){var t=e.debug,n=void 0!==t&&t,r=e.appId,o=e.timestamp,i=e.nonceStr,a=e.signature,u=e.jsApiList,c=void 0===u?["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo"]:u;return this.wxConfig={debug:n,appId:r,timestamp:o,nonceStr:i,signature:a,jsApiList:c},this},e.prototype.setReadyCallBack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.readyCallBack=e,this},e.prototype.setDefaultShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.defaultShare=o()({},this.defaultShare,e),this._isInitDefaultShare=!0,this},e.prototype.share=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isInitDefaultShare?t=o()({},this.defaultShare,t):this.setDefaultShare(t),Promise.resolve().then(function(){return e._initWxSDK()}).then(function(){return e._ready()}).then(function(){e.wx.onMenuShareAppMessage(t),e.wx.onMenuShareTimeline(t),e.wx.onMenuShareQQ(t),e.wx.onMenuShareQZone(t),e.wx.onMenuShareWeibo(t)})},e.prototype.backToDefault=function(){return this.share()},e.prototype._initWxSDK=function(){var e=this;return new Promise(function(t){var n;e.wx?t():window.wx?(e.wx=window.wx,t()):((n=document.createElement("script")).type="text/javascript",n.onload=function(){e.wx=window.wx,t()},n.src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js",document.querySelector("head").appendChild(n))})},e.prototype._ready=function(){var e=this;return new Promise(function(t){e.isConfigReady?t():(e.wx.config(e.wxConfig),e.wx.ready(function(){e.isConfigReady=!0,e.readyCallBack&&e.readyCallBack(),t()}))})},e}();t.default=a}]).default});