!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WxShare=t():e.WxShare=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n(1);var r=new function(){var e=void 0;return function(t){return t&&(e=t),e}},o=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r())return r();this.isConfigReady=!1,this.wx=null,this.wxConfig=null,this.readyCallBack=null,this.defaultShare={title:"",desc:"",link:window.location.href.replace(/(\?|#).*/g,""),imgUrl:""},this._isInitDefaultShare=!1,r(this)}return e.prototype.config=function(e){var t=e.debug,n=void 0!==t&&t,r=e.appId,o=e.timestamp,i=e.nonceStr,a=e.signature,u=e.jsApiList,s=void 0===u?["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo"]:u;return this.wxConfig={debug:n,appId:r,timestamp:o,nonceStr:i,signature:a,jsApiList:s},this},e.prototype.setReadyCallBack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.readyCallBack=e,this},e.prototype.setDefaultShare=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.defaultShare=Object.assign({},this.defaultShare,e),this._isInitDefaultShare=!0,this},e.prototype.share=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isInitDefaultShare?t=Object.assign({},this.defaultShare,t):this.setDefaultShare(t),Promise.resolve().then(function(){return e._initWxSDK()}).then(function(){return e._ready()}).then(function(){e.wx.onMenuShareAppMessage(t),e.wx.onMenuShareTimeline(t),e.wx.onMenuShareQQ(t),e.wx.onMenuShareQZone(t),e.wx.onMenuShareWeibo(t)})},e.prototype.backToDefault=function(){return this.share()},e.prototype._initWxSDK=function(){var e=this;return new Promise(function(t){var n;e.wx?t():window.wx?(e.wx=window.wx,t()):((n=document.createElement("script")).type="text/javascript",n.onload=function(){e.wx=window.wx,t()},n.src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js",document.querySelector("head").appendChild(n))})},e.prototype._ready=function(){var e=this;return new Promise(function(t){e.isConfigReady?t():(e.wx.config(e.wxConfig),e.wx.ready(function(){e.isConfigReady=!0,e.readyCallBack&&e.readyCallBack(),t()}))})},e}();t.default=o},function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0})}]).default});