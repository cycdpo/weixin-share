{"version":3,"sources":["webpack://WxShare/webpack/universalModuleDefinition","webpack://WxShare/webpack/bootstrap","webpack://WxShare/./node_modules/awesome-js-funcs/designPattern/CreateInstance.js","webpack://WxShare/./node_modules/object-assign/index.js","webpack://WxShare/./src/index.js"],"names":["_instance","CreateInstance","WX_JSSDK_URL","WxShare","isConfigReady","wx","wxConfig","readyCallBack","shareSuccessCallBack","defaultShare","title","document","desc","link","window","location","href","replace","imgUrl","_isInitDefaultShare","config","debug","appId","timestamp","nonceStr","signature","jsApiList","setReadyCallBack","setShareSuccessCallBack","setDefaultShare","objectAssign","share","shareData","console","log","Promise","resolve","then","_initWxSDK","_ready","_oldShareData","success","res","onMenuShareWeibo","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","updateAppMessageShareData","updateTimelineShareData","backToDefault","_setWX","oScript","createElement","type","onload","src","querySelector","appendChild","ready"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AACA;AACA,aAAa;AACb;AACA;AACgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,E;;;;;;;;;;;;ACdD;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAA;AAAA;CAGA;;AACA;;AAEA,IAAMA,SAAS,GAA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","file":"WxShare.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WxShare\"] = factory();\n\telse\n\t\troot[\"WxShare\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/**\r\n * 单例模式构造函数(设计模式)\r\n * @returns {function(*=)}\r\n * @constructor\r\n */\r\nexport default (function () {\r\n  var instance;\r\n  return function (newInstance) {\r\n    if (newInstance) {\r\n      instance = newInstance;\r\n    }\r\n\r\n    return instance;\r\n  };\r\n});","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// constructor\nimport CreateInstance from 'awesome-js-funcs/designPattern/CreateInstance';\n\n// polyfill\nimport objectAssign from 'object-assign';\n\nconst _instance = new CreateInstance();\n\nconst WX_JSSDK_URL = 'https://res.wx.qq.com/open/js/jweixin-1.4.0.js';\n\nexport default class WxShare {\n  constructor() {\n    if (_instance()) {\n      return _instance();\n    }\n    this.isConfigReady = false;\n    this.wx = null;\n    this.wxConfig = {};\n    this.readyCallBack = () => {\n    };\n    this.shareSuccessCallBack = () => {\n    };\n\n    this.defaultShare = {\n      title: document.title,\n      desc: '',\n      link: window.location.href.replace(/(\\?|#).*/g, ''),\n      imgUrl: '',\n    };\n    this._isInitDefaultShare = false;\n\n    _instance(this);\n  };\n\n  /**\n   * config\n   * @param configData\n   * {\n   *  debug: false,\n   *  appId: '',\n   *  timestamp: 0,\n   *  nonceStr: '',\n   *  signature: '',\n   *  jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareQZone', 'onMenuShareWeibo'],\n   * }\n   */\n  config({\n           debug = false,\n           appId,\n           timestamp,\n           nonceStr,\n           signature,\n           jsApiList = [\n             'onMenuShareTimeline',\n             'onMenuShareAppMessage',\n             'onMenuShareQQ',\n             'onMenuShareQZone',\n             'onMenuShareWeibo',\n             'updateAppMessageShareData',\n             'updateTimelineShareData',\n           ]\n         }) {\n    this.wxConfig = {\n      debug: debug,\n      appId: appId,\n      timestamp: timestamp,\n      nonceStr: nonceStr,\n      signature: signature,\n      jsApiList: jsApiList\n    };\n    return this;\n  };\n\n  /**\n   * setReadyCallBack\n   * @param readyCallBack\n   * @return {WxShare}\n   */\n  setReadyCallBack(readyCallBack = () => {\n  }) {\n    this.readyCallBack = readyCallBack;\n    return this;\n  };\n\n  /**\n   * setShareSuccessCallBack\n   * @param shareSuccessCallBack\n   * @return {WxShare}\n   */\n  setShareSuccessCallBack(shareSuccessCallBack = () => {\n  }) {\n    this.shareSuccessCallBack = shareSuccessCallBack;\n    return this;\n  };\n\n  /**\n   * setDefaultShare\n   * @param defaultShare\n   * @return {WxShare}\n   */\n  setDefaultShare(defaultShare = {}) {\n    this.defaultShare = objectAssign({}, this.defaultShare, defaultShare);\n    this._isInitDefaultShare = true;\n    return this;\n  };\n\n  /**\n   * share\n   * @param shareData\n   *  {\n   *    title: '',\n   *    link: '',\n   *    desc: '',\n   *    imgUrl: ''\n   *  }\n   * @returns {Promise<any | never>}\n   */\n  share(shareData = {}) {\n    if (!this._isInitDefaultShare) {\n      this.setDefaultShare(shareData);\n    }\n\n    shareData = objectAssign({}, this.defaultShare, shareData);\n\n    console.log(shareData);\n\n    return Promise.resolve()\n      .then(() => this._initWxSDK())\n      .then(() => this._ready())\n      .then(() => {\n        const _oldShareData = objectAssign({}, shareData, {\n          success: (res) => this.shareSuccessCallBack(res),\n        });\n\n        this.wx.onMenuShareWeibo(_oldShareData);\n\n        // discard\n        this.wx.onMenuShareTimeline(_oldShareData);\n        this.wx.onMenuShareAppMessage(_oldShareData);\n        this.wx.onMenuShareQQ(_oldShareData);\n        this.wx.onMenuShareQZone(_oldShareData);\n\n        // Above jssdk1.4\n        this.wx.updateAppMessageShareData(shareData, (res) => this.shareSuccessCallBack(res));\n        this.wx.updateTimelineShareData(shareData, (res) => this.shareSuccessCallBack(res));\n      });\n  };\n\n  /**\n   * backToDefault\n   * @return {*}\n   */\n  backToDefault() {\n    return this.share();\n  };\n\n  /**\n   * init Wechat JSSDK\n   * @return {Promise<any>}\n   * @private\n   */\n  _initWxSDK() {\n    return new Promise(resolve => {\n      let _setWX = () => {\n        console.log('set wx');\n        let oScript = document.createElement(\"script\");\n        oScript.type = \"text/javascript\";\n        oScript.onload = () => {\n          this.wx = window.wx;\n          resolve();\n        };\n        oScript.src = WX_JSSDK_URL;\n        document.querySelector('head').appendChild(oScript);\n      };\n\n      if (this.wx) {\n        resolve();\n      } else {\n        if (window.wx) {\n          console.log('has wx');\n          this.wx = window.wx;\n          resolve();\n        } else {\n          _setWX();\n        }\n      }\n    });\n  };\n\n  /**\n   * set wx.config\n   * @return {Promise<any>}\n   * @private\n   */\n  _ready() {\n    return new Promise(resolve => {\n      if (this.isConfigReady) {\n        resolve();\n      } else {\n        console.log('set wx.config');\n        this.wx.config(this.wxConfig);\n\n        this.wx.ready(() => {\n          this.isConfigReady = true;\n\n          if (this.readyCallBack) {\n            this.readyCallBack();\n          }\n\n          resolve();\n        });\n      }\n    });\n  };\n};\n\n\n"],"sourceRoot":""}